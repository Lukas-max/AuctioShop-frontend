<div class="container prod-table center-details">
  <div class="product-header">Zamówienie</div>
  <div class="underline"></div>
  <hr>

  <div class="checkout">

    <form [formGroup]="checkoutFormGroup" (ngSubmit)="submitForm()">
      <div formGroupName="customer" class="checkout-table">
        <div class="head">Klient</div>

        <div class="form-row">
          <div class="form-group col-md-6">
            <label>Imię*:</label>
            <input type="text"
                   class="form-control"
                   formControlName="firstName"
                   [ngClass]="{'is-invalid':checkoutFormGroup.get('customer.firstName').errors
                   && checkoutFormGroup.get('customer.firstName').touched}"
                   required>
            <div class="alert alert-danger"
                 *ngIf="checkoutFormGroup.invalid && checkoutFormGroup.touched">
              <div *ngIf="checkoutFormGroup.get('customer.firstName').hasError('minlength')">
                Pole musi mieć przynajmniej 2 znaki.
              </div>
              <div *ngIf="checkoutFormGroup.get('customer.firstName').hasError('required')">
                Pole nie może być puste.
              </div>
            </div>
          </div>

          <div class="form-group col-md-6">
            <label>Nazwisko*:</label>
            <input type="text"
                   class="form-control"
                   formControlName="lastName"
                   [ngClass]="{'is-invalid':checkoutFormGroup.get('customer.lastName').errors
                   && checkoutFormGroup.get('customer.lastName').touched}"
                   required>
            <div class="alert alert-danger"
                 *ngIf="checkoutFormGroup.invalid && checkoutFormGroup.touched">
              <div *ngIf="checkoutFormGroup.get('customer.lastName').hasError('minlength')">
                Pole musi mieć przynajmniej 2 znaki.
              </div>
              <div *ngIf="checkoutFormGroup.get('customer.lastName').hasError('required')">
                Pole nie może być puste.
              </div>
            </div>
          </div>
        </div>

        <div class="form-group">
          <label>Numer telefonu:</label>
          <input type="number" class="form-control" formControlName="telephone">
        </div>

        <div class="form-group">
          <label>Adres Email*:</label>
          <input type="email"
                 class="form-control"
                 formControlName="email"
                 [ngClass]="{'is-invalid':checkoutFormGroup.get('customer.email').errors
                   && checkoutFormGroup.get('customer.email').touched}">
          <div class="alert alert-danger" *ngIf="checkoutFormGroup.invalid && checkoutFormGroup.touched">
            <div *ngIf="checkoutFormGroup.get('customer.email').hasError('required')">
              Pole wymagane.
            </div>
          </div>
        </div>
      </div>

      <div formGroupName="address" class="checkout-table">
        <div class="head">Adres Dostawy</div>

        <div class="mb-3">
          <label>Państwo: </label>
          <input type="text" class="form-control" formControlName="country">
        </div>
        <div class="form-group">
          <label>Ulica:</label>
          <input type="text" class="form-control" formControlName="street">
        </div>
        <div class="form-row">
          <div class="form-group col-md-6">
            <label>Nr domu:</label>
            <input type="number" class="form-control" formControlName="houseNumber">
          </div>
          <div class="form-group col-md-6">
            <label>Nr lokalu:</label>
            <input type="number" class="form-control" formControlName="apartmentNumber">
          </div>
        </div>
        <div class="form-group">
          <label>Kod pocztowy:</label>
          <input type="number" class="form-control" formControlName="postalCode">
        </div>
        <div class="form-group">
          <label>Miasto:</label>
          <input type="text" class="form-control" formControlName="city">
        </div>
      </div>

      <div class="checkout-submit">
        <div>
          <div class="head">Twoje zamówienie:</div>
          <div class="text-center">
            <p>Ilość: <span>{{ totalQuantity }}</span></p>
            <p>Cena całkowita: <span>{{ totalPrice | number:'1.0-2' }}</span> PLN</p>
          </div>
        </div>
        <div class="text-center">
          <button type="submit" class="btn btn-dark" [disabled]="!checkoutFormGroup.valid">
            Zamów
          </button>
        </div>
      </div>
    </form>
  </div>
</div>
